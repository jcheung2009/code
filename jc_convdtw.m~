function [onsets offsets] = jc_convdtw(sm_ind_shift, sm_ind2_shift, sm_offsets, sm_st,stringind);
% make sure all input vectors are same length

onsets = [];
offsets = [];
fs = 32000;
for i = 1:length(sm_offsets);
    onset = (sm_ind_shift(i) - sm_offsets(i) - 1 + sm_st(i))*1000/fs;
    offset = (sm_ind2_shift(i) - sm_offsets(i) - 1 + sm_st(i))*1000/fs;
    onsets = cat(1,onsets,onset);
    offsets = cat(1,offsets,offset);
end

if ~isempty(stringind)
    stringen = [];
    stringst = [];
    for ii = 1:length(stringind)
        string_en = sum(stringind(1:ii));
        stringen = cat(1,stringen,string_en);
    end
    stringst = [1; (stringen(1:end-1) + 1)];
    if ~isequal ((stringen-stringen+1),stringind)
        disp('error!')
    end
    string_ons = {};
    string_offs = {};
    for iii = 1:length(stringst)
        string_ons{iii} = 